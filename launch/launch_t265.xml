<launch>
    <node name="odom_throttler1" type="drop" pkg="topic_tools" 
        args="/camera1/odom/sample 7 8 /camera1/odom/sample_throttled" >
    </node>
    <node name="odom_throttler2" type="drop" pkg="topic_tools" 
        args="/camera2/odom/sample 7 8 /camera2/odom/sample_throttled" >
    </node>

    <node name="odom_throttler3" type="drop" pkg="topic_tools" 
        args="/camera3/odom/sample 7 8 /camera3/odom/sample_throttled" >
    </node>
    <rosparam>
        /camera1/tracking_module/frames_queue_size: 2
        /camera2/tracking_module/frames_queue_size: 2
        /camera3/tracking_module/frames_queue_size: 2
    </rosparam>
    <rosparam>
        /camera1/tracking_module/enable_pose_jumping: true
        /camera1/tracking_module/enable_relocalization: false
        /camera2/tracking_module/enable_pose_jumping: true
        /camera2/tracking_module/enable_relocalization: false
        /camera3/tracking_module/enable_pose_jumping: true
        /camera3/tracking_module/enable_relocalization: false
    </rosparam>
    
    <arg name="serial_no_camera1"    			default="144222110625"/> 			<!-- Note: Replace with actual serial number -->
    <arg name="serial_no_camera2"    			default="144222110422"/> 			<!-- Note: Replace with actual serial number -->
    <arg name="serial_no_camera3"    			default="905312112087"/> 			<!-- Note: Replace with actual serial number -->
    <arg name="camera1"              			default="camera1"/>		<!-- Note: Replace with camera name -->
    <arg name="camera2"              			default="camera2"/>		<!-- Note: Replace with camera name -->
    <arg name="camera3"              			default="camera3"/>		<!-- Note: Replace with camera name -->
    <arg name="tf_prefix_camera1"         default="$(arg camera1)"/>
    <arg name="tf_prefix_camera2"         default="$(arg camera2)"/>
    <arg name="tf_prefix_camera3"         default="$(arg camera3)"/>
    <arg name="initial_reset"             default="true"/>
    <arg name="reconnect_timeout"         default="5.0"/>


    <include file="$(find InspectroneRobotLocalization)/launch/t265.launch" >
        <arg name="serial_no"             value="$(arg serial_no_camera1)"/>
        <arg name="tf_prefix"         		value="$(arg tf_prefix_camera1)"/>
        <arg name="initial_reset"         value="$(arg initial_reset)"/>
        <arg name="reconnect_timeout"     value="$(arg reconnect_timeout)"/>

        <arg name="enable_fisheye1"          value="true"/>
        <arg name="enable_fisheye2"          value="true"/>
        <arg name="fisheye_fps"              value="10"/>
        <arg name="enable_sync"         value="true"/>
        <arg name="unite_imu_method" default="copy"/>

        <arg name="gyro_fps"                 value="200"/>
        <arg name="accel_fps"                value="62"/>
        <arg name="enable_gyro"              value="true"/>
        <arg name="enable_accel"             value="true"/>
        <arg name="camera"                   value="$(arg camera1)" />
        <arg name="publish_odom_tf"          value="true"/>
        <arg name="publish_tf"                value="true" />
    </include>


    <include file="$(find InspectroneRobotLocalization)/launch/t265.launch" >
        <arg name="serial_no"             value="$(arg serial_no_camera2)"/>
        <arg name="tf_prefix"		          value="$(arg tf_prefix_camera2)"/>
        <arg name="initial_reset"         value="$(arg initial_reset)"/>
        <arg name="reconnect_timeout"     value="$(arg reconnect_timeout)"/>

        <arg name="enable_fisheye1"          value="true"/>
        <arg name="enable_fisheye2"          value="true"/>
        <arg name="fisheye_fps"              value="10"/>
        <arg name="enable_sync"         value="true"/>
        <arg name="unite_imu_method" default="copy"/>

        <arg name="gyro_fps"                 value="200"/>
        <arg name="accel_fps"                value="62"/>
        <arg name="enable_gyro"              value="true"/>
        <arg name="enable_accel"             value="true"/>
        <arg name="camera"                   value="$(arg camera2)" />
        <arg name="publish_odom_tf"          value="true"/>
        <arg name="publish_tf"                value="true" />
    </include>

    <include file="$(find InspectroneRobotLocalization)/launch/t265.launch" >
        <arg name="serial_no"             value="$(arg serial_no_camera3)"/>
        <arg name="tf_prefix"		          value="$(arg tf_prefix_camera3)"/>
        <arg name="initial_reset"         value="$(arg initial_reset)"/>
        <arg name="reconnect_timeout"     value="$(arg reconnect_timeout)"/>

        <arg name="enable_fisheye1"          value="true"/>
        <arg name="enable_fisheye2"          value="true"/>
        <arg name="fisheye_fps"              value="10"/>
        <arg name="enable_sync"         value="true"/>
        <arg name="unite_imu_method" default="copy"/>

        <arg name="gyro_fps"                 value="200"/>
        <arg name="accel_fps"                value="62"/>
        <arg name="enable_gyro"              value="true"/>
        <arg name="enable_accel"             value="true"/>
        <arg name="camera"                   value="$(arg camera3)" />
        <arg name="publish_odom_tf"          value="true"/>
        <arg name="publish_tf"                value="true" />
    </include>

    <!-- 144222110625 - top -->
    <!-- 144222110422 - front -->
    <!-- 905312112087 - bottom -->
</launch>