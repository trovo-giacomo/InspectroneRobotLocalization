<launch>
   
   <!-- include node that publish all the static tf-->
    <include file="$(find InspectroneRobotLocalization)/launch/publish_cameras_tf_inspectrone.xml" />
    
    <!-- include Robot localization node -->
    <include file="$(find InspectroneRobotLocalization)/launch/robot_localization_inspectrone.xml" />

    <!-- Launch node for preparing data for EKF in robot localization - one for each camera -->
    <!-- args:
            prefix of the camera topic for realsense t265
            base_link frame name relative to the camera#_pose_frame
            new topic prefix name for the new odometry
    -->
    <node name="odom0_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="camera1" />
        <param name="base_link" type="str" value="base_link_1" />
        <param name="prefix_odom" value="cam1" />
    </node>
        
    <node name="odom1_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="camera2" />
        <param name="base_link" type="str" value="base_link_2" />
        <param name="prefix_odom" value="cam2" />
    </node>

    <node name="odom2_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="camera3" />
        <param name="base_link" type="str" value="base_link_3" />
        <param name="prefix_odom" value="cam3" />
    </node>
</launch>