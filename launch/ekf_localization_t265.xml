<launch>
   
   <!-- include node that publish all the static tf-->
    <include file="$(find InspectroneRobotLocalization)/launch/publish_cameras_tf_inspectrone.xml" />
    
    <!-- include Robot localization node -->
    <!-- <include file="$(find InspectroneRobotLocalization)/launch/robot_localization_inspectrone.xml" >
        <arg name="camera1_prefix" value="top" />
        <arg name="camera2_prefix" value="front" />
        <arg name="camera3_prefix" value="bottom" />
    </include> -->

    <!-- EKF configured to take cameras odometry only orientation and velocity (not differential) -->
    <!-- <include file="$(find InspectroneRobotLocalization)/launch/robot_localization_inspectrone_vel.xml" /> -->
    <!-- EKF configured to take cameras odometry in a mixed configuration -->
    <!-- camera1 and camera3 (top and bottom): pose + orientation + lin velocity with differential -->
    <!-- camera 2 (front): orientation + lin velocity (not differential) -->
    <include file="$(find InspectroneRobotLocalization)/launch/robot_localization_inspectrone_mix.xml" >
        <arg name="camera1_prefix" value="top" />
        <arg name="camera2_prefix" value="front" />
        <arg name="camera3_prefix" value="bottom" />
    </include>
    <!-- EKF configured to take cameras odometry pose, orientation and velocity - differential -->
    <!-- <include file="$(find InspectroneRobotLocalization)/launch/robot_localization_inspectrone_diff.xml" >
        <arg name="camera1_prefix" value="top" />
        <arg name="camera2_prefix" value="front" />
        <arg name="camera3_prefix" value="bottom" />
    </include> -->

    <!-- Launch node for preparing data for EKF in robot localization - one for each camera -->
    <!-- args:
            prefix of the camera topic for realsense t265
            base_link frame name relative to the camera#_pose_frame
            new topic prefix name for the new odometry
    -->
    <node name="odom0_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="top_cam" />
        <param name="base_link" type="str" value="base_link_top" />
        <param name="prefix_odom" value="top" />
    </node>
        
    <node name="odom1_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="front_cam" />
        <param name="base_link" type="str" value="base_link_front" />
        <param name="prefix_odom" value="front" />
    </node>

    <node name="odom2_tf_listener" output="screen" pkg="InspectroneRobotLocalization" type="publish_odom_rs" required="true">
        <param name="camera" type="str" value="bottom_cam" />
        <param name="base_link" type="str" value="base_link_bottom" />
        <param name="prefix_odom" value="bottom" />
    </node>
</launch>